<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Shop Moderne</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <style>
    /* =========================
       VARIABLES
    ======================== */
    :root {
      --primary: #2563eb;
      --primary-light: #3b82f6;
      --dark: #0f172a;
      --glass: rgba(255,255,255,0.85);
      --radius: 12px;
      --transition: all 0.35s ease;
    }

    /* =========================
       GLOBAL RESET
    ======================== */
    * { margin:0; padding:0; box-sizing:border-box; font-family: Arial, sans-serif; }
    body { background: #f8fafc; color: #334155; }

    /* =========================
       NAVBAR
    ======================== */
    .navbar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 12px 30px;
      background: var(--glass);
      backdrop-filter: blur(14px);
      position: sticky;
      top: 0;
      z-index: 1000;
      box-shadow: 0 5px 20px rgba(0,0,0,0.08);
    }

    .navbar .logo { font-size: 1.8rem; font-weight: bold; color: var(--primary); }
    .navbar ul { display: flex; gap: 20px; list-style: none; }
    .navbar ul li a { text-decoration: none; color: #334155; font-weight: 500; transition: 0.3s; }
    .navbar ul li a:hover { color: var(--primary); }

    /* BOUTON PANIER */
    .btn-cart {
      position: relative;
      background: linear-gradient(135deg, var(--primary), var(--primary-light));
      color: white;
      border: none;
      border-radius: 50px;
      padding: 10px 18px;
      font-size: 1rem;
      cursor: pointer;
      transition: var(--transition);
    }

    .btn-cart:hover { transform: scale(1.05); }

    #cart-count {
      position: absolute;
      top: -8px;
      right: -8px;
      background: #ef4444;
      color: white;
      width: 22px;
      height: 22px;
      font-size: 0.75rem;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      transition: transform 0.3s ease;
    }

    .cart-bounce { animation: bounce 0.4s ease; }
    @keyframes bounce {
      0% { transform: scale(1); }
      40% { transform: scale(1.4); }
      100% { transform: scale(1); }
    }

    /* =========================
       PRODUITS
    ======================== */
    .products {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px,1fr));
      gap: 20px;
      padding: 40px;
      max-width: 1200px;
      margin: auto;
    }

    .product-card {
      background: white;
      border-radius: var(--radius);
      overflow: hidden;
      box-shadow: 0 15px 40px rgba(0,0,0,0.1);
      transition: transform 0.35s ease;
      display: flex;
      flex-direction: column;
    }

    .product-card:hover { transform: translateY(-6px); }

    .product-card img { width: 100%; height: 200px; object-fit: cover; }
    .product-info { padding: 15px; flex: 1; display: flex; flex-direction: column; justify-content: space-between; }
    .product-info h4 { margin-bottom: 10px; font-size: 1.1rem; }
    .product-info p { font-size: 0.9rem; color: #64748b; margin-bottom: 10px; }
    .product-info .price { font-weight: 700; color: var(--primary); margin-bottom: 10px; }

    .product-info button {
      padding: 8px 12px;
      border: none;
      border-radius: 50px;
      background: linear-gradient(135deg, var(--primary), var(--primary-light));
      color: white;
      cursor: pointer;
      transition: transform 0.3s ease;
    }

    .product-info button:hover { transform: scale(1.05); }

    /* =========================
       MODAL PANIER
    ======================== */
    .cart-modal {
      position: fixed;
      top: 0;
      right: -100%;
      width: 400px;
      height: 100%;
      background: #f1f5f9;
      box-shadow: -10px 0 30px rgba(0,0,0,0.2);
      transition: right 0.4s ease;
      z-index: 10000;
      display: flex;
      flex-direction: column;
    }

    .cart-modal.open { right: 0; }

    .cart-header {
      padding: 20px;
      font-size: 1.3rem;
      font-weight: 700;
      border-bottom: 1px solid #ccc;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .cart-items { flex: 1; overflow-y: auto; padding: 20px; }

    .cart-item {
      display: flex;
      align-items: center;
      margin-bottom: 15px;
      justify-content: space-between;
      background: white;
      padding: 10px;
      border-radius: var(--radius);
      box-shadow: 0 5px 15px rgba(0,0,0,0.05);
    }

    .cart-item img { width: 50px; height: 50px; object-fit: cover; border-radius: var(--radius); }
    .cart-item-info { flex: 1; margin-left: 10px; }
    .cart-item-info h5 { font-size: 0.95rem; margin-bottom: 5px; }
    .cart-item-info .cart-price { font-weight: 700; color: var(--primary); font-size: 0.85rem; }

    .cart-item-actions { display: flex; align-items: center; gap: 5px; }
    .cart-item-actions button { border:none; background:#2563eb; color:white; border-radius:50%; width:24px; height:24px; cursor:pointer; transition:0.3s; }
    .cart-item-actions button:hover { background:#3b82f6; }

    .cart-footer {
      padding: 20px;
      border-top: 1px solid #ccc;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .cart-footer button { padding: 10px; border:none; border-radius:50px; cursor:pointer; font-weight:700; }
    .checkout-btn { background: #22c55e; color:white; }
    .clear-btn { background:#ef4444; color:white; }
  </style>
</head>
<body>

  <!-- =========================
       NAVBAR
  ======================== -->
  <nav class="navbar">
    <div class="logo">MyShop</div>
    <ul>
      <li><a href="#">Accueil</a></li>
      <li><a href="#">Contact</a></li>
      <li><a href="#">Compte</a></li>
    </ul>
    <button class="btn-cart" id="cart-btn">
      <i class="fa fa-shopping-cart"></i> 
      <span id="cart-count">0</span>
    </button>
  </nav>

  <!-- =========================
       PRODUITS
  ======================== -->
  <section class="products" id="products"></section>

  <!-- =========================
       MODAL PANIER
  ======================== -->
  <div class="cart-modal" id="cart-modal">
    <div class="cart-header">
      Panier
      <button id="close-cart">&times;</button>
    </div>
    <div class="cart-items" id="cart-items"></div>
    <div class="cart-footer">
      <button class="checkout-btn" id="checkout">Commander</button>
      <button class="clear-btn" id="clear-cart">Vider le panier</button>
    </div>
  </div>

  <script>
    // =========================
    // DONNÉES PRODUITS
    // =========================
    const productsData = [
      {id:1, name:"Produit 1", price:29.99, img:"https://via.placeholder.com/220x200?text=Produit+1"},
      {id:2, name:"Produit 2", price:49.99, img:"https://via.placeholder.com/220x200?text=Produit+2"},
      {id:3, name:"Produit 3", price:19.99, img:"https://via.placeholder.com/220x200?text=Produit+3"},
      {id:4, name:"Produit 4", price:39.99, img:"https://via.placeholder.com/220x200?text=Produit+4"}
    ];

    const productsContainer = document.getElementById('products');
    const cartBtn = document.getElementById('cart-btn');
    const cartModal = document.getElementById('cart-modal');
    const closeCart = document.getElementById('close-cart');
    const cartItemsContainer = document.getElementById('cart-items');
    const cartCount = document.getElementById('cart-count');
    const clearCartBtn = document.getElementById('clear-cart');
    const checkoutBtn = document.getElementById('checkout');

    let cart = [];

    // =========================
    // RENDRE LES PRODUITS
    // =========================
    function renderProducts() {
      productsData.forEach(product => {
        const card = document.createElement('div');
        card.classList.add('product-card');
        card.innerHTML = `
          <img src="${product.img}" alt="${product.name}">
          <div class="product-info">
            <h4>${product.name}</h4>
            <p class="price">$${product.price.toFixed(2)}</p>
            <button onclick="addToCart(${product.id})">Ajouter au panier</button>
          </div>
        `;
        productsContainer.appendChild(card);
      });
    }

    // =========================
    // AJOUTER AU PANIER
    // =========================
    function addToCart(id) {
      const product = productsData.find(p => p.id === id);
      const existing = cart.find(p => p.id === id);
      if(existing){
        existing.quantity++;
      } else {
        cart.push({...product, quantity:1});
      }
      updateCart();
      animateCart();
    }

    function animateCart() {
      cartCount.classList.add('cart-bounce');
      setTimeout(()=> cartCount.classList.remove('cart-bounce'),400);
    }

    // =========================
    // METTRE À JOUR LE PANIER
    // =========================
    function updateCart() {
      cartItemsContainer.innerHTML = '';
      cartCount.textContent = cart.reduce((acc,p)=> acc + p.quantity, 0);
      cart.forEach(item => {
        const div = document.createElement('div');
        div.classList.add('cart-item');
        div.innerHTML = `
          <img src="${item.img}" alt="${item.name}">
          <div class="cart-item-info">
            <h5>${item.name}</h5>
            <div class="cart-price">$${(item.price*item.quantity).toFixed(2)}</div>
          </div>
          <div class="cart-item-actions">
            <button onclick="decreaseQty(${item.id})">-</button>
            <span>${item.quantity}</span>
            <button onclick="increaseQty(${item.id})">+</button>
            <button onclick="removeItem(${item.id})"><i class="fa fa-trash"></i></button>
          </div>
        `;
        cartItemsContainer.appendChild(div);
      });
    }

    // =========================
    // ACTIONS PANIER
    // =========================
    function increaseQty(id){
      const item = cart.find(p => p.id === id);
      item.quantity++;
      updateCart();
    }

    function decreaseQty(id){
      const item = cart.find(p => p.id === id);
      if(item.quantity > 1){
        item.quantity--;
      } else {
        cart = cart.filter(p=>p.id!==id);
      }
      updateCart();
    }

    function removeItem(id){
      cart = cart.filter(p=>p.id!==id);
      updateCart();
    }

    function clearCart(){
      cart = [];
      updateCart();
    }

    function checkout(){
      if(cart.length===0){
        alert("Votre panier est vide !");
      } else {
        alert("Merci pour votre commande !");
        clearCart();
      }
    }

    // =========================
    // EVENTS
    // =========================
    cartBtn.addEventListener('click',()=>cartModal.classList.toggle('open'));
    closeCart.addEventListener('click',()=>cartModal.classList.remove('open'));
    clearCartBtn.addEventListener('click', clearCart);
    checkoutBtn.addEventListener('click', checkout);

    renderProducts();
  </script>

</body>
</html>
